import React, { useEffect, useMemo, useState } from "react";
import { motion, AnimatePresence } from "framer-motion";
import { PlayCircle, Film, Layers, GalleryVerticalEnd, Phone, Mail, MapPin, Star, Filter, Search, Github, Linkedin, Instagram, Youtube, ArrowUpRight, Sparkles, Menu, X } from "lucide-react";

// -----------------------------
// Utility helpers
// -----------------------------
const cn = (...classes) => classes.filter(Boolean).join(" ");

const Section = ({ id, className = "", children }) => (
  <section id={id} className={cn("w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16", className)}>
    {children}
  </section>
);

const Page = ({ children }) => (
  <motion.main
    initial={{ opacity: 0, y: 12 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: -12 }}
    transition={{ duration: 0.45, ease: "easeOut" }}
    className="min-h-[calc(100vh-80px)]"
  >
    {children}
  </motion.main>
);

const GradientText = ({ children, className = "" }) => (
  <span
    className={cn(
      "bg-gradient-to-r from-cyan-400 via-blue-400 to-indigo-400 bg-clip-text text-transparent",
      className
    )}
  >
    {children}
  </span>
);

const Tag = ({ children }) => (
  <span className="inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">
    {children}
  </span>
);

const Pill = ({ children, icon: Icon }) => (
  <div className="flex items-center gap-2 rounded-full bg-white/5 border border-white/10 px-3 py-1 text-xs text-white/80">
    {Icon && <Icon className="h-3.5 w-3.5" />}
    {children}
  </div>
);

const Button = ({ as: As = "button", children, className = "", variant = "primary", ...props }) => {
  const base = "inline-flex items-center gap-2 rounded-2xl px-4 py-2 text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/70 transition";
  const styles = {
    primary: "bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:brightness-110 shadow-lg shadow-cyan-500/20",
    ghost: "bg-white/5 text-white hover:bg-white/10 border border-white/10",
  };
  return (
    <As className={cn(base, styles[variant], className)} {...props}>
      {children}
    </As>
  );
};

// -----------------------------
// Navbar
// -----------------------------
const Navbar = ({ route, setRoute }) => {
  const [open, setOpen] = useState(false);
  const items = [
    { key: "home", label: "Home" },
    { key: "portfolio", label: "Portfolio" },
    { key: "services", label: "Services" },
    { key: "testimonials", label: "Feedback" },
    { key: "contact", label: "Contact" },
  ];
  return (
    <nav className="sticky top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-slate-950/70 bg-slate-950/70 border-b border-white/5">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between">
        <div className="flex items-center gap-3">
          <motion.div initial={{ rotate: -8, opacity: 0 }} animate={{ rotate: 0, opacity: 1 }}>
            <Film className="h-7 w-7 text-cyan-400" aria-hidden />
          </motion.div>
          <button
            className="text-base sm:text-lg font-semibold text-white"
            onClick={() => setRoute("home")}
            aria-label="Go to home"
          >
            <GradientText>NovaCut Studio</GradientText>
          </button>
          <div className="hidden md:flex items-center gap-2 ml-4">
            <Pill icon={PlayCircle}>Video Editing</Pill>
            <Pill icon={Layers}>Motion Graphics</Pill>
          </div>
        </div>
        <div className="hidden md:flex items-center gap-1">
          {items.map((it) => (
            <button
              key={it.key}
              onClick={() => setRoute(it.key)}
              className={cn(
                "px-3 py-2 rounded-xl text-sm text-white/80 hover:text-white transition",
                route === it.key && "bg-white/5 text-white"
              )}
            >
              {it.label}
            </button>
          ))}
          <Button className="ml-2" onClick={() => setRoute("contact")}>
            Let’s Work <ArrowUpRight className="h-4 w-4" />
          </Button>
        </div>
        <button className="md:hidden p-2 rounded-xl hover:bg-white/10" onClick={() => setOpen((o) => !o)} aria-label="Toggle menu">
          {open ? <X className="h-6 w-6 text-white" /> : <Menu className="h-6 w-6 text-white" />}
        </button>
      </div>
      <AnimatePresence>
        {open && (
          <motion.div
            initial={{ height: 0, opacity: 0 }}
            animate={{ height: "auto", opacity: 1 }}
            exit={{ height: 0, opacity: 0 }}
            className="md:hidden border-t border-white/5"
          >
            <div className="px-4 py-3 flex flex-col gap-2">
              {items.map((it) => (
                <button
                  key={it.key}
                  onClick={() => { setRoute(it.key); setOpen(false); }}
                  className={cn(
                    "w-full text-left px-3 py-2 rounded-xl text-sm text-white/80 hover:text-white hover:bg-white/5",
                    route === it.key && "bg-white/5 text-white"
                  )}
                >
                  {it.label}
                </button>
              ))}
              <Button className="w-full" onClick={() => { setRoute("contact"); setOpen(false); }}>
                Let’s Work <ArrowUpRight className="h-4 w-4" />
              </Button>
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </nav>
  );
};

// -----------------------------
// Hero (Home)
// -----------------------------
const Home = ({ setRoute }) => {
  const highlights = [
    "Cinematic cuts",
    "Color grading",
    "Sound design",
    "Motion graphics",
    "Short-form mastery",
  ];

  return (
    <Page>
      <Section id="hero" className="pt-16">
        <div className="grid lg:grid-cols-2 gap-10 items-center">
          <div>
            <motion.h1
              initial={{ opacity: 0, y: 8 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: 0.05 }}
              className="text-4xl sm:text-5xl font-extrabold tracking-tight text-white"
            >
              Video Editor & Motion Designer
              <br />
              delivering <GradientText>impactful stories</GradientText>.
            </motion.h1>
            <p className="mt-5 text-white/70 text-base sm:text-lg max-w-xl">
              I craft energetic social edits, sleek commercials, wedding films, and narrative shorts. Smooth transitions, tasteful effects, and pacing that keeps viewers hooked.
            </p>
            <div className="mt-6 flex flex-wrap items-center gap-3">
              <Button onClick={() => setRoute("portfolio")}>
                View Portfolio <GalleryVerticalEnd className="h-4 w-4" />
              </Button>
              <Button variant="ghost" onClick={() => setRoute("services")}>Services & Pricing</Button>
              <div className="flex items-center gap-2">
                {highlights.map((h, i) => (
                  <Tag key={i}>{h}</Tag>
                ))}
              </div>
            </div>
          </div>
          <motion.div
            initial={{ opacity: 0, scale: 0.96 }}
            whileInView={{ opacity: 1, scale: 1 }}
            viewport={{ once: true, amount: 0.3 }}
            transition={{ duration: 0.6 }}
            className="relative"
          >
            <div className="aspect-video w-full rounded-3xl overflow-hidden border border-white/10 bg-gradient-to-br from-slate-900 to-slate-800 shadow-2xl">
              <div className="absolute inset-0 grid grid-cols-3 gap-1 p-1 opacity-90">
                {[...Array(9)].map((_, i) => (
                  <div key={i} className="rounded-xl bg-white/5 animate-pulse" />
                ))}
              </div>
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="flex items-center gap-3 rounded-full bg-black/60 px-4 py-2 border border-white/10">
                  <PlayCircle className="h-6 w-6 text-white" />
                  <span className="text-white/90">Showreel coming soon</span>
                </div>
              </div>
            </div>
            <div className="absolute -inset-1 -z-10 rounded-[32px] bg-gradient-to-r from-cyan-500/20 via-blue-500/10 to-indigo-500/20 blur-2xl" />
          </motion.div>
        </div>
      </Section>

      <Section id="stats" className="pt-0">
        <div className="grid sm:grid-cols-3 gap-4">
          {[
            { k: "+120", l: "Projects" },
            { k: "8 yrs", l: "Experience" },
            { k: "4.9/5", l: "Avg. rating" },
          ].map((s) => (
            <div key={s.l} className="rounded-3xl border border-white/10 bg-white/5 p-6 text-center">
              <div className="text-3xl font-extrabold text-white"><GradientText>{s.k}</GradientText></div>
              <div className="text-white/70 mt-1">{s.l}</div>
            </div>
          ))}
        </div>
      </Section>
    </Page>
  );
};

// -----------------------------
// Portfolio
// -----------------------------
const demoProjects = [
  { id: 1, title: "Urban Fashion Spot", category: "Commercial", thumb: "https://images.unsplash.com/photo-1516570161787-2fd917215a3d?q=80&w=1200&auto=format&fit=crop", url: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
  { id: 2, title: "Wedding – Anaya & Rishabh", category: "Wedding", thumb: "https://images.unsplash.com/photo-1522673607200-164d1b6ce486?q=80&w=1200&auto=format&fit=crop", url: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
  { id: 3, title: "Short Film – Echoes", category: "Short Film", thumb: "https://images.unsplash.com/photo-1520881363902-a0ff4e722963?q=80&w=1200&auto=format&fit=crop", url: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
  { id: 4, title: "Product Teaser – AudioGear", category: "Commercial", thumb: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?q=80&w=1200&auto=format&fit=crop", url: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
  { id: 5, title: "Travel Reel – Ladakh", category: "Travel", thumb: "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1200&auto=format&fit=crop", url: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
  { id: 6, title: "Social Edit – Fitness", category: "Social", thumb: "https://images.unsplash.com/photo-1558611848-73f7eb4001a1?q=80&w=1200&auto=format&fit=crop", url: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
];

const categories = ["All", "Commercial", "Wedding", "Short Film", "Social", "Travel"];

const Portfolio = () => {
  const [filter, setFilter] = useState("All");
  const [query, setQuery] = useState("");
  const [active, setActive] = useState(null);

  const filtered = useMemo(() => {
    return demoProjects.filter((p) => (filter === "All" || p.category === filter) && p.title.toLowerCase().includes(query.toLowerCase()));
  }, [filter, query]);

  return (
    <Page>
      <Section id="portfolio" className="pt-16">
        <div className="flex items-end justify-between gap-4 flex-wrap">
          <div>
            <h2 className="text-3xl sm:text-4xl font-extrabold text-white">Selected <GradientText>Works</GradientText></h2>
            <p className="text-white/70 mt-2">Browse by category or search. Thumbnails are optimized and lazy-loaded.</p>
          </div>
          <div className="flex items-center gap-2 w-full sm:w-auto">
            <div className="relative flex-1 sm:flex-none">
              <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40" />
              <input
                aria-label="Search projects"
                value={query}
                onChange={(e) => setQuery(e.target.value)}
                placeholder="Search projects…"
                className="w-full sm:w-64 rounded-2xl bg-white/5 border border-white/10 px-9 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-400/70"
              />
            </div>
            <div className="relative">
              <Filter className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40 pointer-events-none" />
              <select
                aria-label="Filter by category"
                value={filter}
                onChange={(e) => setFilter(e.target.value)}
                className="appearance-none rounded-2xl bg-white/5 border border-white/10 pl-9 pr-10 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-400/70"
              >
                {categories.map((c) => (
                  <option key={c} value={c} className="bg-slate-900">{c}</option>
                ))}
              </select>
            </div>
          </div>
        </div>

        <div className="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
          {filtered.map((p) => (
            <motion.button
              key={p.id}
              onClick={() => setActive(p)}
              whileHover={{ y: -4 }}
              className="group text-left rounded-3xl overflow-hidden border border-white/10 bg-white/5"
            >
              <div className="relative aspect-video overflow-hidden">
                <img src={p.thumb} alt={p.title} loading="lazy" className="h-full w-full object-cover transition duration-500 group-hover:scale-105" />
                <div className="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-80" />
                <div className="absolute bottom-3 left-3 flex items-center gap-2">
                  <Tag>{p.category}</Tag>
                  <Pill icon={Star}>Featured</Pill>
                </div>
                <PlayCircle className="absolute right-3 bottom-3 h-8 w-8 text-white drop-shadow" />
              </div>
              <div className="p-4">
                <div className="font-semibold text-white">{p.title}</div>
                <div className="text-xs text-white/60 mt-1">Cut • Grade • SFX • Mix</div>
              </div>
            </motion.button>
          ))}
        </div>

        {/* Modal */}
        <AnimatePresence>
          {active && (
            <motion.div
              className="fixed inset-0 z-50 bg-black/70 backdrop-blur flex items-center justify-center p-4"
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              onClick={() => setActive(null)}
              aria-modal
              role="dialog"
            >
              <motion.div
                initial={{ y: 20, scale: 0.98, opacity: 0 }}
                animate={{ y: 0, scale: 1, opacity: 1 }}
                exit={{ y: 10, scale: 0.98, opacity: 0 }}
                transition={{ type: "spring", stiffness: 180, damping: 20 }}
                className="w-full max-w-4xl rounded-2xl overflow-hidden border border-white/10 bg-slate-900"
                onClick={(e) => e.stopPropagation()}
              >
                <div className="aspect-video bg-black">
                  <iframe
                    title={active.title}
                    src={active.url}
                    className="w-full h-full"
                    loading="lazy"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowFullScreen
                  />
                </div>
                <div className="p-4 flex items-center justify-between gap-3">
                  <div>
                    <div className="text-white font-semibold">{active.title}</div>
                    <div className="text-white/60 text-sm">{active.category} • Adobe Premiere Pro, After Effects, DaVinci Resolve</div>
                  </div>
                  <Button onClick={() => setActive(null)} variant="ghost">Close</Button>
                </div>
              </motion.div>
            </motion.div>
          )}
        </AnimatePresence>
      </Section>
    </Page>
  );
};

// -----------------------------
// Services
// -----------------------------
const tiers = [
  {
    name: "Starter",
    price: "$299",
    pitch: "Perfect for short social edits (up to 60s).",
    features: ["1–2 revisions", "Licensed music", "Basic motion graphics", "Color correction"],
  },
  {
    name: "Pro",
    price: "$899",
    pitch: "For ads, product videos, and wedding highlights.",
    features: ["Up to 4 minutes", "Pro color grading", "Sound design + mix", "Advanced motion graphics", "3 revisions"],
  },
  {
    name: "Studio",
    price: "Custom",
    pitch: "Narrative, multi-deliverables, retainer work.",
    features: ["Script consultation", "Multi-format exports", "Subtitles + captions", "Priority turnaround", "On-call revisions"],
  },
];

const Services = ({ setRoute }) => (
  <Page>
    <Section id="services" className="pt-16">
      <div className="text-center">
        <h2 className="text-3xl sm:text-4xl font-extrabold text-white">Services & <GradientText>Pricing</GradientText></h2>
        <p className="text-white/70 mt-2 max-w-2xl mx-auto">
          Designed to match your goals—from snappy social content to cinematic brand films.
        </p>
      </div>
      <div className="mt-10 grid md:grid-cols-3 gap-5">
        {tiers.map((t) => (
          <motion.div key={t.name} whileHover={{ y: -6 }} className="rounded-3xl border border-white/10 bg-white/5 p-6">
            <div className="flex items-center justify-between">
              <div className="text-xl font-semibold text-white">{t.name}</div>
              <Sparkles className="h-5 w-5 text-cyan-400" />
            </div>
            <div className="mt-2 text-3xl font-extrabold text-white"><GradientText>{t.price}</GradientText></div>
            <p className="mt-1 text-white/70 text-sm">{t.pitch}</p>
            <ul className="mt-4 space-y-2 text-white/80 text-sm">
              {t.features.map((f) => (
                <li key={f} className="flex items-start gap-2"><Star className="h-4 w-4 mt-0.5 text-cyan-400" /> {f}</li>
              ))}
            </ul>
            <Button className="mt-6 w-full" onClick={() => setRoute("contact")}>Request Quote</Button>
          </motion.div>
        ))}
      </div>

      <div className="mt-12 rounded-3xl border border-cyan-500/30 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 p-6">
        <div className="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
          <div>
            <div className="text-white font-semibold">Need ongoing edits every month?</div>
            <div className="text-white/70 text-sm">Ask about discounted retainer packages and bulk deliverables.</div>
          </div>
          <Button onClick={() => setRoute("contact")}>
            Start a Retainer <ArrowUpRight className="h-4 w-4" />
          </Button>
        </div>
      </div>
    </Section>
  </Page>
);

// -----------------------------
// Testimonials
// -----------------------------
const testimonials = [
  {
    name: "Aarav Mehta",
    role: "Brand Manager, UrbanCo",
    quote: "Lightning-fast turnarounds and edits that pop. Our CTR jumped 38% after his ad refresh.",
  },
  {
    name: "Saanvi Nair",
    role: "Director, Indie Short",
    quote: "Understands story and pacing. The final cut felt cinematic and emotionally tight.",
  },
  {
    name: "Liam Carter",
    role: "Founder, FitLab",
    quote: "Short-form wizard. Reels and YT Shorts that actually keep people watching.",
  },
];

const Testimonials = () => {
  const [index, setIndex] = useState(0);
  useEffect(() => {
    const id = setInterval(() => setIndex((i) => (i + 1) % testimonials.length), 4500);
    return () => clearInterval(id);
  }, []);
  return (
    <Page>
      <Section id="testimonials" className="pt-16">
        <div className="text-center">
          <h2 className="text-3xl sm:text-4xl font-extrabold text-white">Client <GradientText>Feedback</GradientText></h2>
          <p className="text-white/70 mt-2">Real words from happy collaborators.</p>
        </div>
        <div className="mt-10">
          <div className="relative mx-auto max-w-3xl">
            <AnimatePresence mode="wait">
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 8 }}
                animate={{ opacity: 1, y: 0 }}
                exit={{ opacity: 0, y: -8 }}
                transition={{ duration: 0.35 }}
                className="rounded-3xl border border-white/10 bg-white/5 p-8 text-center"
              >
                <p className="text-lg text-white/90 leading-relaxed">“{testimonials[index].quote}”</p>
                <div className="mt-4 text-white font-semibold">{testimonials[index].name}</div>
                <div className="text-white/60 text-sm">{testimonials[index].role}</div>
              </motion.div>
            </AnimatePresence>
            <div className="flex justify-center gap-2 mt-4">
              {testimonials.map((_, i) => (
                <button
                  key={i}
                  aria-label={`Go to testimonial ${i + 1}`}
                  onClick={() => setIndex(i)}
                  className={cn("h-2.5 w-2.5 rounded-full", i === index ? "bg-cyan-400" : "bg-white/20")}
                />
              ))}
            </div>
          </div>
        </div>
      </Section>
    </Page>
  );
};

// -----------------------------
// Contact
// -----------------------------
const Contact = () => {
  const [form, setForm] = useState({ name: "", email: "", budget: "", message: "" });
  const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });
  const mailto = `mailto:hello@novacut.studio?subject=Project%20Inquiry%20from%20${encodeURIComponent(form.name || "Client")}&body=${encodeURIComponent(form.message)}%0A%0ABudget:%20${encodeURIComponent(form.budget)}%0AEmail:%20${encodeURIComponent(form.email)}`;

  return (
    <Page>
      <Section id="contact" className="pt-16">
        <div className="grid lg:grid-cols-2 gap-10">
          <div>
            <h2 className="text-3xl sm:text-4xl font-extrabold text-white">Let’s <GradientText>Collaborate</GradientText></h2>
            <p className="text-white/70 mt-2">Share a brief about your video. I’ll respond with timelines and a quote.</p>
            <div className="mt-6 space-y-3 text-white/80">
              <div className="flex items-center gap-3"><Phone className="h-5 w-5 text-cyan-400" /> +91 90000 00000</div>
              <div className="flex items-center gap-3"><Mail className="h-5 w-5 text-cyan-400" /> hello@novacut.studio</div>
              <div className="flex items-center gap-3"><MapPin className="h-5 w-5 text-cyan-400" /> Mumbai • Remote Worldwide</div>
            </div>
            <div className="mt-6 flex items-center gap-3">
              <a href="#" className="p-2 rounded-xl hover:bg-white/10"><Github className="h-5 w-5 text-white" /></a>
              <a href="#" className="p-2 rounded-xl hover:bg-white/10"><Linkedin className="h-5 w-5 text-white" /></a>
              <a href="#" className="p-2 rounded-xl hover:bg-white/10"><Instagram className="h-5 w-5 text-white" /></a>
              <a href="#" className="p-2 rounded-xl hover:bg-white/10"><Youtube className="h-5 w-5 text-white" /></a>
            </div>
          </div>
          <div className="rounded-3xl border border-white/10 bg-white/5 p-6">
            <div className="grid sm:grid-cols-2 gap-4">
              <div>
                <label className="text-sm text-white/70">Name</label>
                <input name="name" value={form.name} onChange={onChange} aria-label="Name" placeholder="Your name" className="mt-1 w-full rounded-2xl bg-white/5 border border-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-400/70" />
              </div>
              <div>
                <label className="text-sm text-white/70">Email</label>
                <input name="email" type="email" value={form.email} onChange={onChange} aria-label="Email" placeholder="you@company.com" className="mt-1 w-full rounded-2xl bg-white/5 border border-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-400/70" />
              </div>
              <div className="sm:col-span-2">
                <label className="text-sm text-white/70">Budget</label>
                <input name="budget" value={form.budget} onChange={onChange} aria-label="Budget" placeholder="₹50k – ₹2L or $600 – $2500" className="mt-1 w-full rounded-2xl bg-white/5 border border-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-400/70" />
              </div>
              <div className="sm:col-span-2">
                <label className="text-sm text-white/70">Project Brief</label>
                <textarea name="message" value={form.message} onChange={onChange} rows={5} aria-label="Project brief" placeholder="Tell me about goals, length, platforms, references…" className="mt-1 w-full rounded-2xl bg-white/5 border border-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-400/70" />
              </div>
              <div className="sm:col-span-2 flex items-center gap-3">
                <Button as="a" href={mailto}>Send Inquiry</Button>
                <Button variant="ghost" as="a" href="#portfolio">See Work</Button>
              </div>
            </div>
          </div>
        </div>
      </Section>
    </Page>
  );
};

// -----------------------------
// Footer
// -----------------------------
const Footer = ({ setRoute }) => (
  <footer className="mt-16 border-t border-white/5">
    <Section className="py-10">
      <div className="flex flex-col sm:flex-row items-center justify-between gap-4">
        <div className="text-white/60 text-sm">© {new Date().getFullYear()} NovaCut Studio — All rights reserved.</div>
        <div className="flex items-center gap-2">
          <button onClick={() => setRoute("home")} className="text-white/70 hover:text-white">Home</button>
          <span className="text-white/20">•</span>
          <button onClick={() => setRoute("portfolio")} className="text-white/70 hover:text-white">Portfolio</button>
          <span className="text-white/20">•</span>
          <button onClick={() => setRoute("services")} className="text-white/70 hover:text-white">Services</button>
          <span className="text-white/20">•</span>
          <button onClick={() => setRoute("testimonials")} className="text-white/70 hover:text-white">Feedback</button>
          <span className="text-white/20">•</span>
          <button onClick={() => setRoute("contact")} className="text-white/70 hover:text-white">Contact</button>
        </div>
      </div>
    </Section>
  </footer>
);

// -----------------------------
// App Shell
// -----------------------------
const AppShell = () => {
  const [route, setRoute] = useState("home");
  useEffect(() => {
    // Basic hash routing for sharable links
    const applyFromHash = () => {
      const key = (window.location.hash || "#home").replace("#", "");
      setRoute(["home", "portfolio", "services", "testimonials", "contact"].includes(key) ? key : "home");
    };
    applyFromHash();
    window.addEventListener("hashchange", applyFromHash);
    return () => window.removeEventListener("hashchange", applyFromHash);
  }, []);
  useEffect(() => {
    if (typeof window !== "undefined") window.location.hash = `#${route}`;
  }, [route]);

  return (
    <div className="min-h-screen bg-[radial-gradient(80%_60%_at_50%_-10%,#0b1220_0%,#05070d_50%,#02040a_100%)] text-white">
      <Navbar route={route} setRoute={setRoute} />
      <AnimatePresence mode="wait">
        {route === "home" && <Home key="home" setRoute={setRoute} />}
        {route === "portfolio" && <Portfolio key="portfolio" />}
        {route === "services" && <Services key="services" setRoute={setRoute} />}
        {route === "testimonials" && <Testimonials key="testimonials" />}
        {route === "contact" && <Contact key="contact" />}
      </AnimatePresence>
      <Footer setRoute={setRoute} />
    </div>
  );
};

export default AppShell;
